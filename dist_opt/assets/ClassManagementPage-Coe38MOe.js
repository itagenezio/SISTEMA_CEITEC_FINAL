import{j as e}from"./vendor-radix-D9w6Aqn5.js";import{B as t,b as N,u as g,c as W}from"./index-C4prtVKG.js";import{r as d,l as Z,u as X}from"./vendor-react-BLglcPuh.js";import{C as f}from"./card-CqIWy9z1.js";import{D as A,a as E,c as P}from"./dialog-DlTEP81z.js";import{I as D}from"./input-rVbishha.js";import{m as l,x as Y,U as M,v as $,w as z,Z as _,P as R,V as U,p as q,W as H,X as J,Y as K,M as Q,y as ee,L as ae,$ as re}from"./vendor-utils-DjjONr6O.js";function te({onNavigate:c,onAddClass:x,onAddActivity:s,selectedClass:a,classes:h,students:u,onAddStudent:w,onDeleteClass:y,onDeleteStudent:k}){const[n,p]=d.useState(!1),[o,m]=d.useState(!1),[C,b]=d.useState(!1),[ie,ne]=d.useState(!1),[v,I]=d.useState(""),[T,oe]=d.useState(["InovaÃ§Ã£o"]),[i,S]=d.useState({name:"",email:"",schedule:"",discipline:(a==null?void 0:a.disciplines[0])||"InovaÃ§Ã£o"}),[de,le]=d.useState({title:"",description:"",points:100,deadline:"",discipline:(a==null?void 0:a.disciplines[0])||"Tecnologia"}),O={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},j={hidden:{opacity:0,y:10},show:{opacity:1,y:0}},L=()=>`INV-${Math.floor(1e3+Math.random()*9e3)}`,B=()=>{if(!v.trim())return;const r={name:v,disciplines:T.length>0?T:["Geral"]};x(r),g.success(`Turma "${v}" criada!`),p(!1),I("")},V=()=>{if(!i.name||!i.email.includes("@")){g.error("Preencha nome e e-mail corretamente.");return}const r={name:i.name,email:i.email,classId:a.id,accessCode:L(),schedule:i.schedule||"A definir",discipline:i.discipline,xp:0,progress:0,avatar:"ðŸ‘¤"};w(r),S({...i,name:"",email:""}),m(!1),g.success("Estudante cadastrado com sucesso!")},G=async()=>{if(!a)return;await y(a.id)&&(b(!1),c("teacher-dashboard"),g.success("Turma removida."))},F=async r=>{window.confirm("Deseja realmente remover este estudante?")&&await k(r)&&g.success("Estudante removido.")};return e.jsxs("div",{className:"space-y-10 pb-20 relative px-4",children:[e.jsx("div",{className:"absolute top-0 right-1/4 w-[600px] h-[600px] bg-primary/5 rounded-full blur-[120px] -z-10"}),e.jsxs(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row items-center gap-6 bg-white p-8 rounded-3xl border border-border shadow-xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-[3px] bg-primary/10 group-hover:bg-primary transition-colors"}),e.jsx(t,{variant:"ghost",onClick:()=>c("teacher-dashboard"),className:"rounded-2xl w-12 h-12 p-0 border border-border hover:bg-muted bg-background shadow-sm",children:e.jsx(Y,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 text-center lg:text-left space-y-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 justify-center lg:justify-start",children:[e.jsxs("h1",{className:"text-3xl font-black text-foreground tracking-tight uppercase italic flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-primary"})," ",(a==null?void 0:a.name)||"Turma Selecionada"]}),e.jsxs(N,{variant:"secondary",className:"bg-primary/5 text-primary border-none font-bold text-[9px] px-3 uppercase tracking-widest",children:["ID: ",a==null?void 0:a.id.slice(0,8)]})]}),e.jsx("p",{className:"text-muted-foreground text-[10px] font-bold uppercase tracking-widest flex items-center justify-center lg:justify-start gap-2",children:"GestÃ£o de Registro AcadÃªmico // CEITEC EDU"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{variant:"ghost",className:"w-10 h-10 border border-border hover:bg-muted text-muted-foreground hover:text-primary transition-all rounded-xl p-0",children:e.jsx($,{className:"w-4 h-4"})}),e.jsx(t,{variant:"ghost",onClick:()=>b(!0),className:"w-10 h-10 border border-border hover:bg-destructive/5 text-muted-foreground hover:text-destructive transition-all rounded-xl p-0",children:e.jsx(z,{className:"w-4 h-4"})})]})]}),e.jsxs(l.div,{variants:O,initial:"hidden",animate:"show",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(l.div,{variants:j,children:e.jsxs(f,{className:"p-7 bg-white border border-border rounded-3xl shadow-sm space-y-6 hover:shadow-lg transition-all group",children:[e.jsxs("h3",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4 text-primary"})," AÃ§Ãµes RÃ¡pidas"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(t,{onClick:()=>c("activity-creator",a==null?void 0:a.id),className:"w-full bg-primary hover:bg-primary/90 text-white h-12 rounded-xl text-[10px] font-black tracking-widest uppercase transition-all shadow-lg shadow-primary/10 italic",children:[e.jsx(R,{className:"w-4 h-4 mr-2"})," LanÃ§ar Atividade"]}),e.jsxs(t,{onClick:()=>m(!0),variant:"outline",className:"w-full border-border hover:bg-muted text-foreground h-12 rounded-xl text-[10px] font-black tracking-widest uppercase transition-all italic",children:[e.jsx(U,{className:"w-4 h-4 mr-2"})," Matricular Estudante"]}),e.jsxs(t,{onClick:()=>p(!0),variant:"ghost",className:"w-full text-muted-foreground hover:text-foreground h-10 rounded-xl text-[9px] font-bold tracking-widest uppercase italic",children:[e.jsx(R,{className:"w-3 h-3 mr-2"})," Criar nova turma"]})]})]})}),e.jsx(l.div,{variants:j,children:e.jsxs(f,{className:"p-7 bg-white border border-border rounded-3xl shadow-sm relative overflow-hidden group h-full flex flex-col justify-center",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h3",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4 text-primary"})," Desempenho Global"]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-muted-foreground font-bold uppercase tracking-widest mb-1",children:"Estudantes"}),e.jsx("h4",{className:"text-4xl font-black text-foreground italic",children:u.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-muted-foreground font-bold uppercase tracking-widest mb-1",children:"Engajamento"}),e.jsxs("h4",{className:"text-4xl font-black text-foreground italic",children:[(a==null?void 0:a.progress)||0,"%"]})]})]}),e.jsx("div",{className:"w-full h-1.5 bg-muted rounded-full overflow-hidden mt-6",children:e.jsx(l.div,{initial:{width:0},animate:{width:`${(a==null?void 0:a.progress)||0}%`},className:"h-full bg-primary"})})]})}),e.jsx(l.div,{variants:j,children:e.jsxs(f,{className:"p-7 bg-white border border-border rounded-3xl shadow-sm h-full group",children:[e.jsxs("h3",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest flex items-center gap-2 mb-5",children:[e.jsx(H,{className:"w-4 h-4 text-primary"})," Disciplinas"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[a==null?void 0:a.disciplines.map(r=>e.jsx(N,{variant:"secondary",className:"bg-muted text-muted-foreground border-none px-4 py-1.5 font-bold text-[9px] uppercase tracking-widest rounded-lg",children:r},r)),e.jsx(N,{variant:"outline",className:"border-dashed border-primary/40 text-primary px-4 py-1.5 font-bold text-[9px] uppercase tracking-widest rounded-lg cursor-pointer hover:bg-primary/5 transition-colors",children:"+ Adicionar"})]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-border pb-5",children:[e.jsxs("h2",{className:"text-2xl font-black text-foreground flex items-center gap-3 uppercase italic",children:[e.jsx(M,{className:"w-6 h-6 text-primary"})," Lista de Estudantes"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(t,{variant:"outline",size:"sm",className:"h-10 text-[10px] uppercase font-bold tracking-widest px-5 rounded-xl border-border",children:[e.jsx(J,{className:"w-3.5 h-3.5 mr-2"})," Filtrar"]}),e.jsxs(t,{size:"sm",className:"h-10 text-[10px] uppercase font-black tracking-widest px-6 rounded-xl bg-primary text-white shadow-lg shadow-primary/10",children:[e.jsx(K,{className:"w-3.5 h-3.5 mr-2"})," Exportar"]})]})]}),e.jsxs(l.div,{variants:O,initial:"hidden",animate:"show",className:"grid gap-3",children:[u.map(r=>e.jsx(l.div,{variants:j,children:e.jsx(f,{className:"p-5 bg-white border border-border hover:border-primary/30 transition-all shadow-sm rounded-2xl group relative overflow-hidden",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-6 relative z-10",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-muted flex items-center justify-center text-3xl border border-border group-hover:bg-primary/5 transition-colors",children:r.avatar||"ðŸ‘¤"}),e.jsxs("div",{className:"flex-1 text-center lg:text-left space-y-1",children:[e.jsx("h3",{className:"font-black text-foreground text-xl tracking-tight uppercase italic flex items-center justify-center lg:justify-start gap-3",children:r.name}),e.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start gap-4",children:[e.jsxs("span",{className:"text-muted-foreground text-[10px] font-bold uppercase tracking-wider flex items-center gap-1.5",children:[e.jsx(Q,{className:"w-3.5 h-3.5 opacity-50"})," ",r.email]}),e.jsxs(N,{className:"bg-primary/10 text-primary border-none h-6 px-3 text-[9px] font-bold rounded-lg uppercase",children:["Cod: ",r.accessCode]}),e.jsxs("span",{className:"text-[10px] font-bold text-muted-foreground uppercase flex items-center gap-1.5",children:[e.jsx(ee,{className:"w-3.5 h-3.5 opacity-50"})," NÃ­vel ",Math.floor(r.xp/500)+1]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pl-6 lg:border-l border-border",children:[e.jsx(t,{variant:"ghost",size:"icon",className:"h-10 w-10 text-muted-foreground hover:text-primary hover:bg-primary/5 rounded-xl border border-border transition-all",children:e.jsx($,{className:"w-4 h-4"})}),e.jsx(t,{variant:"ghost",size:"icon",onClick:()=>F(r.id),className:"h-10 w-10 text-muted-foreground hover:text-destructive hover:bg-destructive/5 rounded-xl border border-border transition-all",children:e.jsx(z,{className:"w-4 h-4"})})]})]})})},r.id)),u.length===0&&e.jsxs(f,{className:"p-20 bg-muted/20 border border-dashed border-border rounded-3xl text-center",children:[e.jsx(M,{className:"w-12 h-12 text-muted-foreground/20 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground font-bold uppercase tracking-widest text-[10px]",children:"Nenhum estudante nesta turma."}),e.jsx(t,{onClick:()=>m(!0),variant:"outline",className:"mt-4 border-primary/30 text-primary hover:bg-primary/5 rounded-xl uppercase font-black text-[10px] tracking-widest px-8 h-10 italic",children:"Conectar Primeiro Aluno"})]})]})]}),e.jsx(A,{open:n,onOpenChange:p,children:e.jsxs(E,{className:"bg-white border-none text-foreground sm:max-w-[450px] shadow-2xl rounded-3xl p-0 overflow-hidden",children:[e.jsxs("div",{className:"bg-primary p-7 text-white",children:[e.jsxs(P,{className:"text-2xl font-black uppercase italic tracking-tight flex items-center gap-3",children:[e.jsx(ae,{className:"w-6 h-6"})," Novo Node Turma"]}),e.jsx("p",{className:"text-white/70 text-[10px] font-bold uppercase tracking-widest mt-1 italic",children:"Expanda os perÃ­metros do CEITEC"})]}),e.jsxs("div",{className:"p-7 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest ml-1",children:"Nome da nova turma"}),e.jsx(D,{placeholder:"Ex: 1Âº ANO - ROBÃ“TICA",value:v,onChange:r=>I(r.target.value),className:"bg-muted/50 border-border h-12 uppercase rounded-xl font-bold text-foreground text-sm"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{variant:"ghost",onClick:()=>p(!1),className:"flex-1 font-bold text-[10px] uppercase h-12 rounded-xl",children:"Cancelar"}),e.jsx(t,{onClick:B,className:"flex-1 bg-primary text-white hover:bg-primary/90 font-black h-12 rounded-xl text-[10px] uppercase shadow-lg shadow-primary/20 italic",children:"Inicializar Turma"})]})]})]})}),e.jsx(A,{open:o,onOpenChange:m,children:e.jsxs(E,{className:"bg-white border-none text-foreground sm:max-w-[450px] shadow-2xl rounded-3xl p-0 overflow-hidden",children:[e.jsxs("div",{className:"bg-primary p-7 text-white",children:[e.jsxs(P,{className:"text-2xl font-black uppercase italic tracking-tight flex items-center gap-3",children:[e.jsx(U,{className:"w-6 h-6"})," Registro de Aluno"]}),e.jsx("p",{className:"text-white/70 text-[10px] font-bold uppercase tracking-widest mt-1 italic",children:"MatrÃ­cula direta no Inovatec Node"})]}),e.jsxs("div",{className:"p-7 space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest ml-1",children:"Nome Completo"}),e.jsx(D,{placeholder:"NOME DO ESTUDANTE",value:i.name,onChange:r=>S({...i,name:r.target.value}),className:"bg-muted/50 border-border h-12 uppercase rounded-xl font-bold text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest ml-1",children:"E-mail para Acesso"}),e.jsx(D,{placeholder:"ESTUDANTE@EMAIL.COM",value:i.email,onChange:r=>S({...i,email:r.target.value}),className:"bg-muted/50 border-border h-12 uppercase rounded-xl font-bold text-sm"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(t,{variant:"ghost",onClick:()=>m(!1),className:"flex-1 font-bold text-[10px] uppercase h-12 rounded-xl",children:"Cancelar"}),e.jsx(t,{onClick:V,className:"flex-1 bg-primary text-white hover:bg-primary/90 font-black h-12 rounded-xl text-[10px] uppercase shadow-lg shadow-primary/20 italic",children:"Vincular Estudante"})]})]})]})}),e.jsx(A,{open:C,onOpenChange:b,children:e.jsxs(E,{className:"bg-white border border-destructive/20 text-foreground rounded-3xl shadow-2xl overflow-hidden p-0 max-w-sm",children:[e.jsxs("div",{className:"p-7 space-y-5 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto",children:e.jsx(re,{className:"w-8 h-8 text-destructive animate-pulse"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xl font-black uppercase tracking-tight italic",children:"Remover Turma?"}),e.jsxs("p",{className:"text-[10px] font-bold text-muted-foreground uppercase leading-relaxed tracking-wider px-4",children:["Esta aÃ§Ã£o removerÃ¡ permanentemente a turma ",e.jsx("span",{className:"text-foreground",children:a==null?void 0:a.name})," e todos os dados vinculados."]})]})]}),e.jsxs("div",{className:"p-4 bg-muted/30 flex gap-2",children:[e.jsx(t,{variant:"ghost",onClick:()=>b(!1),className:"flex-1 font-bold text-[10px] uppercase h-10",children:"Abortar"}),e.jsx(t,{variant:"destructive",onClick:G,className:"flex-1 bg-destructive hover:bg-destructive/90 text-white font-black h-10 rounded-xl text-[10px] uppercase italic",children:"Confirmar RemoÃ§Ã£o"})]})]})})]})}const se=(c,x,s=void 0)=>{const h={"teacher-dashboard":"/teacher","class-management":s?`/teacher/classes/${s}`:"/teacher/classes","mission-management":"/teacher/missions","activity-creator":s?`/teacher/activity-creator/${s}`:"/teacher/activity-creator","activity-edit":s?`/teacher/activity-creator/edit/${s}`:"/teacher/activity-creator",grading:s?`/teacher/grading/${s}`:"/teacher/grading","submissions-list":"/teacher/submissions",reports:"/teacher/reports",calendar:"/teacher/calendar",logout:"/login"}[x];h&&c(h)};function be(){const{classId:c}=Z(),{classes:x,enrolledStudents:s,addClass:a,addActivity:h,addStudent:u,deleteClass:w,deleteStudent:y}=W(),k=X(),n=x.find(o=>String(o.id)===String(c))||x[0],p=s.filter(o=>String(o.classId)===String(n==null?void 0:n.id)||String(o.class_id)===String(n==null?void 0:n.id));return e.jsx(te,{onNavigate:(o,m)=>se(k,o,m),onAddClass:a,onAddActivity:h,selectedClass:n,classes:x,students:p,onAddStudent:u,onDeleteClass:w,onDeleteStudent:y})}export{be as default};
