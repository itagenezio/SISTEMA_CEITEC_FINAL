import{j as e}from"./vendor-radix-D9w6Aqn5.js";import{B as p,b as h,u as f,c as W}from"./index-C4prtVKG.js";import{r as m,u as F}from"./vendor-react-BLglcPuh.js";import{C as g}from"./card-CqIWy9z1.js";import{I as U}from"./input-rVbishha.js";import{x as K,a3 as E,Y as X,L as Z,U as y,N as Y,A as V,m as N,y as q,Z as M,B as T,a4 as D,a5 as H,a6 as L,a7 as I,a8 as R,a9 as _,aa as J,p as Q,ab as ee,ac as ae,ad as se,ae as te,S as re}from"./vendor-utils-DjjONr6O.js";function le({onNavigate:b,classes:c,activities:r,submissions:i,students:o,loading:k,onSeedData:v}){const[u,w]=m.useState("overview"),[S,P]=m.useState(""),[C,A]=m.useState(!1),j=m.useMemo(()=>{const a=o.length,s=i.length,n=i.filter(d=>d.status==="graded"&&d.grade!==void 0),x=n.reduce((d,B)=>d+(B.grade||0),0),l=n.length>0?x/n.length:0,t=a>0?s/(a*Math.max(r.length,1))*100:0;return{totalStudents:a,totalSubmissions:s,avgGrade:l.toFixed(1),engagement:Math.min(t,100).toFixed(0)}},[o,i,r]),z=m.useMemo(()=>{const a=[{range:"0-2",count:0},{range:"2-4",count:0},{range:"4-6",count:0},{range:"6-8",count:0},{range:"8-10",count:0}];return i.forEach(s=>{s.grade!==void 0&&(s.grade<2?a[0].count++:s.grade<4?a[1].count++:s.grade<6?a[2].count++:s.grade<8?a[3].count++:a[4].count++)}),a},[i]),G=m.useMemo(()=>c.map(a=>{const s=i.filter(l=>{const t=o.find(d=>d.id===(l.studentId||l.student_id));return(t==null?void 0:t.classId)===a.id||(t==null?void 0:t.class_id)===a.id}),n=s.filter(l=>l.grade!==void 0),x=n.length>0?n.reduce((l,t)=>l+(t.grade||0),0)/n.length:0;return{name:a.name,media:Number(x.toFixed(1)),taxa:s.length/(Math.max(a.studentsCount,1)*Math.max(r.length,1))*100}}),[c,i,o,r]),$=async()=>{if(v){A(!0);try{await v(),f.success("DADOS_GERADOS: Protocolo de teste concluÃ­do com sucesso.")}catch{f.error("ERRO_SISTEMA: Falha ao gerar dados de teste.")}finally{A(!1)}}},O=()=>{f.info("EXPORT_INITIALIZED: Compilando relatÃ³rio pedagÃ³gico..."),setTimeout(()=>{f.success("EXP_COMPLETE: RelatÃ³rio disponÃ­vel no diretÃ³rio de downloads.")},1500)};return e.jsxs("div",{className:"space-y-10 pb-20 relative",children:[e.jsx("div",{className:"absolute top-0 right-1/4 w-[600px] h-[600px] bg-blue-100/20 rounded-full blur-[120px] -z-10"}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6 bg-white p-8 rounded-3xl border border-blue-100 shadow-[0_8px_30px_rgb(0,0,0,0.04)] relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-[4px] bg-blue-500/10 group-hover:bg-blue-500 transition-colors"}),e.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[e.jsx(p,{variant:"outline",onClick:()=>b("teacher-dashboard"),className:"rounded-2xl w-12 h-12 p-0 border border-blue-100 hover:bg-blue-50 bg-white transition-all shadow-sm",children:e.jsx(K,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(E,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-widest leading-none",children:"AnÃ¡lise AcadÃªmica AvanÃ§ada"})]}),e.jsxs("h1",{className:"text-3xl font-black text-slate-900 tracking-tight uppercase italic flex items-center gap-3",children:["Insights ",e.jsx("span",{className:"text-blue-600 italic",children:"PedagÃ³gicos"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[e.jsx(p,{variant:"outline",onClick:$,disabled:C,className:"h-12 px-6 rounded-xl font-bold text-[10px] tracking-widest uppercase border-blue-100 hover:bg-blue-50 text-blue-600 transition-all",children:C?"Sincronizando...":"Gerar Dados de Teste"}),e.jsxs(p,{onClick:O,className:"bg-blue-600 hover:bg-blue-700 text-white h-12 px-8 rounded-xl font-black text-[10px] tracking-widest uppercase shadow-[0_8px_16px_rgba(37,99,235,0.2)] transition-all italic",children:[e.jsx(X,{className:"w-4 h-4 mr-2"})," Exportar RelatÃ³rio"]})]})]}),e.jsx("div",{className:"flex flex-wrap bg-white p-1.5 rounded-2xl border border-blue-100 w-fit shadow-md",children:[{id:"overview",label:"Monitoramento Geral",icon:Z},{id:"classes",label:"Performance de Turmas",icon:y},{id:"students",label:"AnÃ¡lise por Aluno",icon:Y}].map(a=>e.jsxs("button",{onClick:()=>w(a.id),className:`flex items-center gap-2.5 px-6 py-3 rounded-xl transition-all duration-300 ${u===a.id?"bg-blue-600 text-white shadow-lg":"text-slate-500 hover:bg-blue-50"}`,children:[e.jsx(a.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider",children:a.label})]},a.id))}),e.jsxs(V,{mode:"wait",children:[u==="overview"&&e.jsxs(N.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Novos Recrutas",value:j.totalStudents,icon:y,color:"text-blue-600",bg:"bg-blue-50"},{label:"MÃ©dia AcadÃªmica",value:j.avgGrade,icon:q,color:"text-emerald-600",bg:"bg-emerald-50"},{label:"Engajamento Global",value:`${j.engagement}%`,icon:M,color:"text-amber-600",bg:"bg-amber-50"},{label:"Protocolos de Entrega",value:j.totalSubmissions,icon:T,color:"text-indigo-600",bg:"bg-indigo-50"}].map((a,s)=>e.jsx(g,{className:"p-7 bg-white border border-blue-50 rounded-3xl shadow-sm relative overflow-hidden group hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"text-4xl font-black text-slate-900 italic leading-none",children:a.value}),e.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mt-1",children:a.label})]}),e.jsx("div",{className:`p-3.5 rounded-2xl ${a.bg} group-hover:scale-110 transition-transform duration-500`,children:e.jsx(a.icon,{className:`w-6 h-6 ${a.color}`})})]})},s))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(g,{className:"p-8 bg-white border border-blue-50 rounded-3xl shadow-sm space-y-8 h-full",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-blue-50 pb-6",children:[e.jsxs("h3",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4 text-blue-600"})," DistribuiÃ§Ã£o de Notas"]}),e.jsx(h,{variant:"secondary",className:"bg-blue-50 text-blue-700 border-none px-3 font-bold text-[9px]",children:"SINC_AUTO"})]}),e.jsx("div",{className:"h-[320px] w-full",children:e.jsx(D,{width:"100%",height:"100%",children:e.jsxs(H,{data:z,children:[e.jsx(L,{strokeDasharray:"3 3",stroke:"#f1f5f9",vertical:!1}),e.jsx(I,{dataKey:"range",stroke:"#94a3b8",fontSize:11,fontWeight:"bold",axisLine:!1,tickLine:!1,dy:10}),e.jsx(R,{stroke:"#94a3b8",fontSize:11,fontWeight:"bold",axisLine:!1,tickLine:!1,dx:-10}),e.jsx(_,{cursor:{fill:"#f8fafc"},contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"16px",boxShadow:"0 8px 30px rgba(0,0,0,0.05)",fontSize:"11px",fontWeight:"bold"}}),e.jsx(J,{dataKey:"count",fill:"#2563eb",radius:[8,8,0,0],barSize:40})]})})})]}),e.jsxs(g,{className:"p-8 bg-white border border-blue-50 rounded-3xl shadow-sm space-y-8 h-full",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-blue-50 pb-6",children:[e.jsxs("h3",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-blue-600"})," Performance por Turma"]}),e.jsx(h,{variant:"secondary",className:"bg-emerald-50 text-emerald-700 border-none px-3 font-bold text-[9px]",children:"COMPARATIVO"})]}),e.jsx("div",{className:"h-[320px] w-full",children:e.jsx(D,{width:"100%",height:"100%",children:e.jsxs(ee,{data:G,children:[e.jsx(L,{strokeDasharray:"3 3",stroke:"#f1f5f9",vertical:!1}),e.jsx(I,{dataKey:"name",stroke:"#94a3b8",fontSize:10,fontWeight:"bold",axisLine:!1,tickLine:!1,dy:10}),e.jsx(R,{stroke:"#94a3b8",fontSize:10,fontWeight:"bold",axisLine:!1,tickLine:!1,dx:-10}),e.jsx(_,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"16px",boxShadow:"0 8px 30px rgba(0,0,0,0.05)",fontSize:"10px"}}),e.jsx(ae,{type:"monotone",dataKey:"media",stroke:"#2563eb",strokeWidth:4,dot:{r:6,fill:"#2563eb",strokeWidth:2,stroke:"#fff"},activeDot:{r:8,strokeWidth:0}})]})})})]})]}),e.jsxs(g,{className:"p-10 bg-white border border-blue-50 rounded-[2.5rem] shadow-sm relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:e.jsx(se,{className:"w-32 h-32 text-blue-600"})}),e.jsxs("div",{className:"space-y-8 relative z-10",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight italic flex items-center gap-3 underline decoration-blue-200 underline-offset-8",children:[e.jsx(te,{className:"w-6 h-6 text-blue-600"})," DiagnÃ³stico e IntervenÃ§Ã£o"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"p-6 bg-blue-50/50 rounded-2xl border border-blue-100 group-hover:border-blue-400 transition-all space-y-3",children:[e.jsx(h,{variant:"secondary",className:"bg-amber-100 text-amber-700 border-none text-[9px] font-bold py-1 px-3 uppercase tracking-widest",children:"Alerta de Engajamento"}),e.jsx("p",{className:"text-slate-700 text-xs leading-relaxed font-medium italic",children:"Baixo volume de entregas detectado em turmas de robÃ³tica bÃ¡sica. SugestÃ£o: Rever complexidade do mÃ³dulo 2."})]}),e.jsxs("div",{className:"p-6 bg-blue-50/50 rounded-2xl border border-blue-100 group-hover:border-blue-400 transition-all space-y-3",children:[e.jsx(h,{variant:"secondary",className:"bg-blue-100 text-blue-700 border-none text-[9px] font-bold py-1 px-3 uppercase tracking-widest",children:"AceleraÃ§Ã£o de Grupos"}),e.jsx("p",{className:"text-slate-700 text-xs leading-relaxed font-medium italic",children:'Grupo de elite "Maker" superou a meta trimestral em 20%. Recomendado: MÃ³dulo de IA aplicada.'})]}),e.jsxs("div",{className:"p-6 bg-blue-50/50 rounded-2xl border border-blue-100 group-hover:border-blue-400 transition-all space-y-3",children:[e.jsx(h,{variant:"secondary",className:"bg-emerald-100 text-emerald-700 border-none text-[9px] font-bold py-1 px-3 uppercase tracking-widest",children:"EvoluÃ§Ã£o Cognitiva"}),e.jsx("p",{className:"text-slate-700 text-xs leading-relaxed font-medium italic",children:"Melhoria significativa na resoluÃ§Ã£o de problemas lÃ³gicos apÃ³s dinÃ¢micas de gamificaÃ§Ã£o."})]})]})]})]})]},"overview"),u==="classes"&&e.jsx(N.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(a=>e.jsxs(g,{className:"p-7 bg-white border border-blue-50 hover:border-blue-300 transition-all group cursor-pointer rounded-3xl shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-50 border border-blue-100 flex items-center justify-center text-2xl font-black group-hover:text-blue-600 transition-colors italic text-slate-400",children:a.name.substring(0,2).toUpperCase()}),e.jsxs(h,{variant:"secondary",className:"bg-blue-50 text-blue-600 border-none font-bold text-[9px] px-3 py-1.5 uppercase tracking-widest",children:[a.studentsCount," Estudantes"]})]}),e.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight uppercase italic mb-5",children:a.name}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400 uppercase",children:[e.jsx("span",{children:"Progresso MÃ©dio"}),e.jsxs("span",{className:"text-blue-600",children:[a.progress,"%"]})]}),e.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:e.jsx(N.div,{initial:{width:0},animate:{width:`${a.progress}%`},className:"h-full bg-blue-600"})}),e.jsxs("div",{className:"pt-6 mt-2 border-t border-blue-50 flex justify-between items-center",children:[e.jsx("div",{className:"flex -space-x-2",children:[1,2,3].map(s=>e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 border-2 border-white flex items-center justify-center text-[10px] font-bold text-slate-400",children:"SM"},s))}),e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>b("class-management",a.id),className:"text-[10px] font-black tracking-widest uppercase hover:text-blue-600 italic",children:"Explorar Dados"})]})]})]},a.id))},"classes"),u==="students"&&e.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{className:"relative max-w-xl mx-auto shadow-sm rounded-[2rem]",children:[e.jsx(re,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),e.jsx(U,{placeholder:"Procurar estudante por nome ou registro...",className:"pl-14 h-16 bg-white border border-blue-100 rounded-[2rem] focus:border-blue-400 transition-all uppercase font-bold text-xs tracking-wide",value:S,onChange:a=>P(a.target.value)})]}),e.jsxs("div",{className:"grid gap-4 max-w-4xl mx-auto",children:[o.filter(a=>a.name.toLowerCase().includes(S.toLowerCase())).map(a=>{const s=i.filter(t=>(t.studentId||t.student_id)===a.id),n=s.length,x=s.filter(t=>t.grade!==void 0),l=x.length>0?x.reduce((t,d)=>t+(d.grade||0),0)/x.length:0;return e.jsxs(g,{className:"p-5 bg-white border border-blue-50 hover:border-blue-200 transition-all shadow-sm rounded-2xl flex items-center gap-6 group",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-50 border border-blue-50 flex items-center justify-center text-4xl group-hover:scale-105 transition-transform duration-500",children:a.avatar||"ðŸ‘¤"}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[e.jsx("h4",{className:"font-black text-slate-900 text-lg tracking-tight uppercase italic",children:a.name}),e.jsxs("div",{className:"flex gap-4 font-bold text-[10px] text-slate-400 uppercase tracking-wider",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(M,{className:"w-3.5 h-3.5 text-blue-500"})," ",a.xp," XP"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(T,{className:"w-3.5 h-3.5 text-blue-500"})," ",n," MissÃµes"]})]})]}),e.jsxs("div",{className:"text-right pr-6 space-y-1",children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Score_Global"}),e.jsx("h5",{className:`text-2xl font-black italic ${l>=8?"text-blue-600":l>=6?"text-orange-500":"text-red-500"}`,children:n>0?l.toFixed(1):"---"})]}),e.jsx(p,{variant:"ghost",onClick:()=>f.success(`ACESSANDO_PERFIL: Carregando dossiÃª de ${a.name}...`),className:"h-10 text-[9px] font-black uppercase tracking-widest px-6 border border-blue-50 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-all italic",children:"Detalhes"})]},a.id)}),o.length===0&&e.jsxs("div",{className:"text-center py-20 bg-blue-50/20 border-2 border-dashed border-blue-100 rounded-3xl",children:[e.jsx(y,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Aguardando conexÃ£o de dados dos estudantes."})]})]})]},"students")]})]})}const ie=(b,c,r=void 0)=>{const o={"teacher-dashboard":"/teacher","class-management":r?`/teacher/classes/${r}`:"/teacher/classes","mission-management":"/teacher/missions","activity-creator":r?`/teacher/activity-creator/${r}`:"/teacher/activity-creator","activity-edit":r?`/teacher/activity-creator/edit/${r}`:"/teacher/activity-creator",grading:r?`/teacher/grading/${r}`:"/teacher/grading","submissions-list":"/teacher/submissions",reports:"/teacher/reports",calendar:"/teacher/calendar",logout:"/login"}[c];o&&b(o)};function ue(){const{classes:b,activities:c,submissions:r,enrolledStudents:i,loading:o,seedTestData:k}=W(),v=F();return e.jsx(le,{onNavigate:(u,w)=>ie(v,u,w),classes:b,activities:c,submissions:r,students:i,loading:o,onSeedData:k})}export{ue as default};
