import{j as e}from"./vendor-radix-D9w6Aqn5.js";import{B as r,b as j,u as w,c as P}from"./index-C4prtVKG.js";import{r as m,u as A}from"./vendor-react-BLglcPuh.js";import{C as N}from"./card-CqIWy9z1.js";import{I}from"./input-rVbishha.js";import{D as S,a as E,b as M,c as O,d as T,e as L}from"./dialog-DlTEP81z.js";import{x as R,l as z,S as $,P as B,y as U,m as V,z as F,Z,Q as _,v as H,w as y}from"./vendor-utils-DjjONr6O.js";function Q({onNavigate:t,classes:l,activities:a,onDeleteActivity:d,onUpdateActivity:i}){const[o,p]=m.useState(""),[k,x]=m.useState(!1),[h,u]=m.useState(null),[g,f]=m.useState(null),b=a.filter(s=>s.title.toLowerCase().includes(o.toLowerCase())||s.discipline.toLowerCase().includes(o.toLowerCase())),C=async()=>{h&&(await d(h)&&w.success("MissÃ£o removida com sucesso"),x(!1),u(null))},D=async s=>{f(s.id);const c={...s,status:"published",color:"from-blue-600 to-indigo-700"};await i(s.id,c)&&w.success("MissÃ£o disponibilizada!",{description:`A missÃ£o "${s.title}" agora estÃ¡ visÃ­vel para a turma.`}),f(null)};return e.jsxs("div",{className:"space-y-10 pb-20 relative px-4",children:[e.jsx("div",{className:"absolute top-0 right-1/4 w-[600px] h-[600px] bg-primary/5 rounded-full blur-[120px] -z-10 pointer-events-none"}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-8 bg-white p-10 rounded-[2.5rem] border border-border shadow-xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-primary/20 group-hover:bg-primary transition-all duration-500"}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(r,{variant:"ghost",onClick:()=>t("teacher-dashboard"),className:"rounded-2xl w-14 h-14 p-0 border border-border hover:bg-muted bg-background shadow-sm group",children:e.jsx(R,{className:"w-6 h-6 group-hover:-translate-x-1 transition-transform"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h1",{className:"text-4xl font-black text-foreground tracking-tight uppercase italic flex items-center gap-4",children:["Gerenciamento de ",e.jsx("span",{className:"text-primary italic",children:"MissÃµes"})]}),e.jsxs("p",{className:"text-muted-foreground text-[10px] font-bold uppercase tracking-widest flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4 text-primary"})," LaboratÃ³rio de Planejamento PedagÃ³gico // CEITEC EDU"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full lg:w-auto",children:[e.jsxs("div",{className:"relative w-full sm:w-80",children:[e.jsx($,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(I,{placeholder:"PESQUISAR PROTOCOLO...",value:o,onChange:s=>p(s.target.value),className:"pl-12 h-14 bg-muted/30 border-border rounded-2xl font-black text-[10px] uppercase tracking-widest focus:bg-white transition-all"})]}),e.jsxs(r,{onClick:()=>t("activity-creator"),className:"h-14 px-8 bg-primary hover:bg-primary/90 text-white font-black rounded-2xl shadow-xl shadow-primary/20 transition-all flex items-center gap-3 w-full sm:w-auto text-[10px] uppercase tracking-widest italic",children:[e.jsx(B,{className:"w-5 h-5"})," Nova MissÃ£o"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:b.length===0?e.jsx(N,{className:"p-20 text-center border-2 border-dashed border-border rounded-[3rem] bg-muted/10",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[e.jsx("div",{className:"w-20 h-20 bg-muted rounded-full flex items-center justify-center mx-auto opacity-20",children:e.jsx(U,{className:"w-10 h-10"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xl font-black uppercase italic tracking-tight",children:"Vazio de Dados Operacionais"}),e.jsx("p",{className:"text-muted-foreground font-bold uppercase text-[10px] tracking-[0.2em] leading-relaxed",children:"NÃ£o foram detectados protocolos de missÃ£o ativos. Inicie uma nova sequÃªncia de aprendizado."})]}),e.jsx(r,{onClick:()=>t("activity-creator"),variant:"outline",className:"rounded-2xl border-primary/30 text-primary hover:bg-primary/5 h-14 px-10 font-black text-[10px] uppercase tracking-widest italic",children:"Inicializar Primeira MissÃ£o"})]})}):b.map(s=>{const c=l.find(v=>v.id===s.class_id||v.id===s.classId),n=s.status==="published";return e.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},layout:!0,children:e.jsx(N,{className:"p-6 bg-white border border-border hover:border-primary/40 transition-all rounded-[2.5rem] shadow-sm hover:shadow-xl group relative overflow-hidden",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8",children:[e.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center text-4xl border border-border group-hover:scale-105 transition-all shadow-inner ${n?"bg-primary/5":"bg-muted"}`,children:s.icon||"ðŸŽ¯"}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-4 text-center lg:text-left",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-3",children:[e.jsx("h4",{className:"font-black text-foreground text-2xl uppercase tracking-tight italic",children:s.title}),e.jsx(j,{className:`border-none text-[9px] px-3 py-1 uppercase font-black italic tracking-widest ${n?"bg-emerald-500/10 text-emerald-600":"bg-orange-500/10 text-orange-600"}`,children:n?"DISPONIBILIZADA":"RASCUNHO"}),e.jsx(j,{variant:"outline",className:"border-border text-muted-foreground text-[9px] px-3 py-1 uppercase font-bold tracking-widest",children:s.type||"Atividade"})]}),e.jsxs("p",{className:"text-muted-foreground font-bold uppercase text-[11px] tracking-widest italic opacity-60",children:[s.discipline," // ",(c==null?void 0:c.name)||"VÃ­nculo AutomÃ¡tico"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-primary/60"}),e.jsxs("span",{className:"text-[10px] text-muted-foreground font-black uppercase tracking-widest",children:["Prazo: ",s.deadline||"Sem limite"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4 text-amber-500/60"}),e.jsxs("span",{className:"text-[10px] text-muted-foreground font-black uppercase tracking-widest",children:["Recompensa: ",s.points," XP"]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 lg:pl-8 lg:border-l border-border",children:[!n&&e.jsx(r,{onClick:()=>D(s),disabled:g===s.id,className:"h-14 px-8 bg-emerald-600 hover:bg-emerald-700 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest italic shadow-xl shadow-emerald-200 transition-all flex items-center gap-3",children:g===s.id?"PROCESSANDO...":e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-4 h-4"})," Enviar MissÃ£o"]})}),e.jsxs(r,{variant:"ghost",onClick:()=>t("activity-edit",s.id),className:"h-14 px-6 border border-border hover:bg-primary/5 hover:text-primary rounded-2xl font-black text-[10px] uppercase tracking-widest italic",children:[e.jsx(H,{className:"w-4 h-4 mr-2"})," Editar"]}),e.jsxs(r,{variant:"ghost",onClick:()=>{u(s.id),x(!0)},className:"h-14 px-6 border border-border hover:bg-red-50 hover:text-red-600 rounded-2xl font-black text-[10px] uppercase tracking-widest italic",children:[e.jsx(y,{className:"w-4 h-4 mr-2"})," Excluir"]})]})]})})},s.id)})}),e.jsx(S,{open:k,onOpenChange:x,children:e.jsxs(E,{className:"bg-white border-border rounded-[2.5rem] p-10 max-w-md",children:[e.jsxs(M,{className:"space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-2xl flex items-center justify-center mx-auto text-red-500 border border-red-100",children:e.jsx(y,{className:"w-8 h-8"})}),e.jsx(O,{className:"text-2xl font-black uppercase italic tracking-tight text-center",children:"Protocolo de ExclusÃ£o"}),e.jsx(T,{className:"text-center text-muted-foreground font-bold uppercase text-[10px] tracking-widest leading-relaxed",children:"VocÃª estÃ¡ prestes a apagar permanentemente este protocolo de missÃ£o. Esta aÃ§Ã£o nÃ£o pode ser revertida. Confirmar?"})]}),e.jsxs(L,{className:"flex gap-4 sm:justify-center pt-6",children:[e.jsx(r,{variant:"ghost",onClick:()=>x(!1),className:"flex-1 h-14 rounded-2xl font-black text-[10px] uppercase tracking-widest italic",children:"CANCELAR_BACK"}),e.jsx(r,{onClick:C,className:"flex-1 bg-red-600 hover:bg-red-700 text-white h-14 rounded-2xl font-black text-[10px] uppercase tracking-widest italic shadow-xl shadow-red-200",children:"EXCLUIR_DEFINITIVO"})]})]})})]})}const X=(t,l,a=void 0)=>{const i={"teacher-dashboard":"/teacher","class-management":a?`/teacher/classes/${a}`:"/teacher/classes","mission-management":"/teacher/missions","activity-creator":a?`/teacher/activity-creator/${a}`:"/teacher/activity-creator","activity-edit":a?`/teacher/activity-creator/edit/${a}`:"/teacher/activity-creator",grading:a?`/teacher/grading/${a}`:"/teacher/grading","submissions-list":"/teacher/submissions",reports:"/teacher/reports",calendar:"/teacher/calendar",logout:"/login"}[l];i&&t(i)};function se(){const{classes:t,activities:l,deleteActivity:a,updateActivity:d}=P(),i=A();return e.jsx(Q,{onNavigate:(o,p)=>X(i,o,p),classes:t,activities:l,onDeleteActivity:a,onUpdateActivity:d})}export{se as default};
