import{j as e}from"./vendor-radix-D9w6Aqn5.js";import{B as n,b as m,u as p,c as g,a as u}from"./index-C4prtVKG.js";import{C as x}from"./card-CqIWy9z1.js";import{x as h,l as b,C as f,r as v,y as j,T as N,m as w,v as y,w as k}from"./vendor-utils-DjjONr6O.js";import{u as C}from"./vendor-react-BLglcPuh.js";function S({onNavigate:d,submissions:s,activities:o,onDeleteSubmission:i}){const a=s.map(r=>{const t=o.find(l=>String(l.id)===String(r.activityId||r.activity_id));return{id:r.id,title:(t==null?void 0:t.title)||"Relat贸rio de Atividade",description:r.comments||"Sem coment谩rios adicionais.",date:r.submittedAt?new Date(r.submittedAt).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR"),grade:r.grade,status:r.status==="graded"?"approved":"pending",image:(t==null?void 0:t.icon)||"",color:(t==null?void 0:t.color)||"from-primary to-blue-600",tags:t!=null&&t.discipline?[t.discipline.toUpperCase()]:["GERAL"]}}),c=s.length>0?(s.reduce((r,t)=>r+(t.grade||0),0)/s.length).toFixed(1):"0.0";return e.jsxs("div",{className:"space-y-10 pb-20 relative px-4",children:[e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-[120px] -z-10"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 border-b border-border pb-8",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(n,{variant:"ghost",onClick:()=>d("student-dashboard"),className:"rounded-2xl w-12 h-12 p-0 border border-border hover:bg-muted bg-white shadow-sm",children:e.jsx(h,{className:"w-5 h-5"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h1",{className:"text-4xl font-black text-foreground tracking-tight italic uppercase",children:["Meu ",e.jsx("span",{className:"text-primary italic",children:"Portf贸lio"})]}),e.jsx("p",{className:"text-muted-foreground text-xs font-bold uppercase tracking-widest",children:"Conquistas e trajet贸ria tecnol贸gica"})]})]}),e.jsx("div",{className:"hidden md:flex gap-3",children:e.jsx(m,{variant:"secondary",className:"bg-primary/5 text-primary border-none text-[9px] font-bold px-4 py-2 uppercase tracking-widest",children:"Sincronizado"})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{label:"Projetos Conclu铆dos",value:a.length,icon:b,color:"text-primary",bg:"bg-primary/5"},{label:"M茅dia de Desempenho",value:c,icon:f,color:"text-emerald-500",bg:"bg-emerald-50"},{label:"Certifica莽玫es Elite",value:a.filter(r=>r.grade&&r.grade>=9).length,icon:v,color:"text-amber-500",bg:"bg-amber-50"}].map((r,t)=>e.jsx(x,{className:"p-6 bg-white border border-border shadow-sm hover:shadow-md transition-shadow group rounded-2xl",children:e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl ${r.bg} flex items-center justify-center group-hover:scale-110 transition-transform duration-500`,children:e.jsx(r.icon,{className:`w-7 h-7 ${r.color}`})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-3xl font-black text-foreground italic leading-none",children:r.value}),e.jsx("p",{className:"text-[10px] text-muted-foreground font-black uppercase tracking-widest",children:r.label})]})]})},t))}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 ml-1 mb-2",children:[e.jsx(j,{className:"w-5 h-5 text-primary"}),e.jsx("h2",{className:"text-xl font-black text-foreground uppercase tracking-tight italic",children:"Relat贸rio de Conquistas"})]}),a.length===0?e.jsxs("div",{className:"py-20 text-center border-2 border-dashed border-border rounded-[2.5rem] bg-muted/20",children:[e.jsx(N,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground font-bold uppercase text-[10px] tracking-widest",children:"Seu portf贸lio est谩 aguardando o primeiro deploy."}),e.jsx(n,{onClick:()=>d("activities"),className:"mt-6 bg-primary hover:bg-primary/90 text-white font-black px-10 rounded-xl h-12 text-[10px] tracking-widest uppercase italic shadow-lg shadow-primary/10",children:"Iniciar Miss茫o Alpha"})]}):e.jsx("div",{className:"grid gap-4",children:a.map((r,t)=>e.jsx(w.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.05},children:e.jsx(x,{className:"p-6 bg-white border border-border hover:border-primary/40 transition-all shadow-sm rounded-[2rem] group relative overflow-hidden",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 relative z-10",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-muted border border-border flex items-center justify-center text-3xl group-hover:scale-110 transition-transform duration-500 shadow-inner",children:r.image}),e.jsxs("div",{className:"flex-1 text-center md:text-left space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-4",children:[r.tags.map(l=>e.jsx(m,{variant:"secondary",className:"bg-muted text-muted-foreground border-none font-bold text-[9px] tracking-widest px-3 py-1 uppercase rounded-lg",children:l},l)),e.jsx(m,{className:`border font-bold text-[9px] tracking-widest px-3 py-1 rounded-lg uppercase ${r.status==="approved"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:r.status==="approved"?"Registrado":"Pendente"})]}),e.jsx("h3",{className:"text-2xl font-black text-foreground tracking-tight uppercase italic group-hover:text-primary transition-colors",children:r.title}),e.jsxs("p",{className:"text-xs text-muted-foreground font-medium italic leading-relaxed",children:['"',r.description,'"']})]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 pl-0 md:pl-8 border-t md:border-t-0 md:border-l border-border pt-6 md:pt-0",children:[r.grade&&e.jsxs("div",{className:"text-center md:text-right min-w-[80px]",children:[e.jsx("p",{className:"text-[9px] text-muted-foreground font-bold uppercase tracking-widest mb-1",children:"Score"}),e.jsx("div",{className:"text-3xl font-black text-primary italic leading-none",children:r.grade})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-primary hover:bg-primary/5 rounded-xl border border-border transition-all",children:e.jsx(y,{className:"w-4 h-4"})}),e.jsx(n,{variant:"ghost",size:"icon",onClick:async()=>{window.confirm("Deseja realmente excluir este registro?")&&i&&await i(r.id)&&p.success("Registro removido.")},className:"h-9 w-9 text-muted-foreground hover:text-destructive hover:bg-destructive/5 rounded-xl border border-border transition-all",children:e.jsx(k,{className:"w-4 h-4"})})]})]})]})})},r.id))})]})]})}const A=(d,s,o=void 0)=>{const a={"student-dashboard":"/student",activities:"/student/activities",portfolio:"/student/portfolio",progress:"/student/progress","learning-paths":"/student/learning-paths","submit-activity":o?`/student/activities/${o}/submit`:"/student/activities",logout:"/login"}[s];a&&d(a)};function M(){const{activities:d,submissions:s,deleteSubmission:o}=g(),{user:i}=u(),a=C(),c=s.filter(r=>String(r.studentId||r.student_id)===String(i==null?void 0:i.id));return e.jsx(S,{onNavigate:r=>A(a,r),submissions:c,activities:d,onDeleteSubmission:o})}export{M as default};
