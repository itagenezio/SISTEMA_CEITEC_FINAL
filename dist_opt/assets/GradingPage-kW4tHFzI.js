import{j as e,a as w,T as y,b as k,c as S}from"./vendor-radix-D9w6Aqn5.js";import{d as u,B as m,b as g,c as A}from"./index-C4prtVKG.js";import{C as p}from"./card-CqIWy9z1.js";import{T as C}from"./textarea-D33CfUE_.js";import{r as x,l as _,u as E}from"./vendor-react-BLglcPuh.js";import{x as R,N as F,A as T,m as P,n as b,Z as z,a0 as M,Y as D,a1 as G,Q as $}from"./vendor-utils-DjjONr6O.js";function B({className:d,defaultValue:a,value:r,min:s=0,max:i=100,...l}){const t=x.useMemo(()=>Array.isArray(r)?r:Array.isArray(a)?a:[s,i],[r,a,s,i]);return e.jsxs(w,{"data-slot":"slider",defaultValue:a,value:r,min:s,max:i,className:u("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",d),...l,children:[e.jsx(y,{"data-slot":"slider-track",className:u("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:e.jsx(k,{"data-slot":"slider-range",className:u("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:t.length},(n,c)=>e.jsx(S,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function I({onNavigate:d,submission:a,student:r,activity:s,onGrade:i}){const[l,t]=x.useState((a==null?void 0:a.grade)||8.5),[n,c]=x.useState((a==null?void 0:a.feedback)||""),[o,f]=x.useState(!1),[j,N]=x.useState(!1),v=async()=>{f(!0),await i(a.id,l,n),f(!1),N(!0),setTimeout(()=>{d("submissions-list")},2e3)};return e.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-6 border-b border-border pb-8",children:[e.jsx(m,{variant:"ghost",onClick:()=>d("teacher-dashboard"),className:"rounded-2xl w-12 h-12 p-0 border border-border hover:bg-muted bg-white shadow-sm",children:e.jsx(R,{className:"w-5 h-5"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(F,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-[10px] font-bold text-primary uppercase tracking-widest",children:"Protocolo de AvaliaÃ§Ã£o"})]}),e.jsxs("h1",{className:"text-4xl font-black text-foreground tracking-tight italic uppercase",children:["CorreÃ§Ã£o de ",e.jsx("span",{className:"text-primary italic",children:"Atividades"})]})]})]}),e.jsx(T,{mode:"wait",children:j?e.jsxs(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-4xl mx-auto py-20 bg-white border border-emerald-100 rounded-3xl text-center shadow-xl space-y-6",children:[e.jsx("div",{className:"w-20 h-20 bg-emerald-50 rounded-full flex items-center justify-center mx-auto",children:e.jsx(b,{className:"w-10 h-10 text-emerald-600 fill-emerald-600"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-3xl font-black text-foreground uppercase tracking-tight italic",children:"AvaliaÃ§Ã£o Registrada!"}),e.jsx("p",{className:"text-muted-foreground font-medium italic",children:"O feedback foi sincronizado com o perfil do estudante."})]}),e.jsx(g,{className:"bg-emerald-50 text-emerald-600 border border-emerald-100 px-6 py-2 font-bold uppercase text-[10px] tracking-widest animate-pulse",children:"Redirecionando..."})]}):a?e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 pb-20",children:[e.jsxs(p,{className:"p-8 bg-white border border-border rounded-3xl shadow-sm relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-[3px] bg-primary/10 group-hover:bg-primary transition-colors"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"w-20 h-20 bg-muted rounded-2xl flex items-center justify-center text-4xl border border-border group-hover:scale-105 transition-transform duration-500 shadow-inner",children:(r==null?void 0:r.avatar)||"ðŸ‘¤"}),e.jsxs("div",{className:"text-center md:text-left flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-4 mb-2",children:[e.jsx("h2",{className:"text-3xl font-black text-foreground tracking-tight uppercase italic",children:(r==null?void 0:r.name)||"Estudante"}),e.jsx(g,{variant:"secondary",className:"bg-primary/5 text-primary border-none text-[9px] px-3 font-bold uppercase tracking-widest",children:"MatrÃ­cula Ativa"})]}),e.jsxs("p",{className:"text-muted-foreground text-sm font-bold uppercase tracking-widest flex items-center justify-center md:justify-start gap-2 italic",children:[e.jsx(z,{className:"w-4 h-4 text-primary"})," ",(s==null?void 0:s.title)||"RelatÃ³rio de Atividade"]}),e.jsx("div",{className:"pt-3",children:e.jsx(g,{variant:"outline",className:"border-border text-muted-foreground text-[10px] font-bold uppercase h-7 px-4",children:a.submitted_at?`Data de Entrega: ${new Date(a.submitted_at).toLocaleDateString("pt-BR")}`:"Data nÃ£o registrada"})})]})]})]}),e.jsxs(p,{className:"p-8 bg-white border border-border rounded-3xl shadow-sm space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-border pb-6",children:[e.jsxs("h3",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4 text-primary"})," Material de Estudo Recebido"]}),a.file_url&&e.jsxs(m,{variant:"outline",className:"h-10 text-[9px] uppercase font-bold tracking-widest rounded-xl px-6 border-border",onClick:()=>window.open(a.file_url,"_blank"),children:[e.jsx(D,{className:"w-3.5 h-3.5 mr-2"})," Baixar Anexo"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center bg-muted/20 p-8 rounded-2xl border border-border",children:[e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"w-20 h-20 bg-white border border-border rounded-2xl flex items-center justify-center mx-auto shadow-sm",children:e.jsx("span",{className:"text-4xl",children:(s==null?void 0:s.icon)||"ðŸ“¦"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-sm font-bold text-foreground uppercase tracking-tight italic",children:a.file_url?"Arquivo de Projeto":"RelatÃ³rio de Texto"}),e.jsx("p",{className:"text-[10px] text-muted-foreground font-bold uppercase tracking-widest",children:a.file_url?"O aluno incluiu material externo":"SubmissÃ£o textual direta"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-border shadow-inner",children:[e.jsxs("p",{className:"text-[9px] text-primary font-bold uppercase mb-3 flex items-center gap-1.5 pointer-events-none",children:[e.jsx(G,{className:"w-3 h-3"})," ComentÃ¡rios do Estudante:"]}),e.jsxs("p",{className:"text-xs text-foreground font-medium italic leading-relaxed",children:['"',a.comments||"Nenhum comentÃ¡rio adicional foi deixado para esta entrega.",'"']})]})]})]}),e.jsxs(p,{className:"p-8 bg-white border border-border rounded-3xl shadow-lg space-y-10 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -bottom-24 -right-24 w-64 h-64 bg-primary/5 rounded-full blur-[100px] -z-10"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[e.jsxs("div",{className:"space-y-4 flex-1",children:[e.jsxs("h3",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4 text-primary"})," GraduaÃ§Ã£o de Nota"]}),e.jsxs("div",{className:"space-y-8 pt-4",children:[e.jsx(B,{value:[l],onValueChange:h=>t(h[0]),max:10,min:0,step:.5,className:"cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-[10px] font-black text-muted-foreground uppercase tracking-widest",children:[e.jsx("span",{children:"0.0"}),e.jsx("span",{className:"text-primary",children:"Escala Educacional"}),e.jsx("span",{children:"10.0"})]})]})]}),e.jsxs("div",{className:"w-40 h-40 bg-muted/30 border border-border rounded-3xl flex flex-col items-center justify-center shadow-inner group",children:[e.jsx("p",{className:"text-[9px] font-bold text-muted-foreground uppercase tracking-[0.2em] mb-1",children:"MÃ©dia Final"}),e.jsx("span",{className:`text-6xl font-black tracking-tight italic transition-colors ${l>=7?"text-primary":l>=5?"text-orange-500":"text-destructive"}`,children:l.toFixed(1)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest ml-1 block",children:"Feedback PedagÃ³gico para o Mentor"}),e.jsx(C,{placeholder:"Escreva sugestÃµes de melhoria e pontos positivos para o estudante...",value:n,onChange:h=>c(h.target.value),className:"min-h-40 bg-muted/10 border-border text-foreground font-medium rounded-2xl p-6 focus:border-primary focus:ring-primary/5 text-sm"})]}),e.jsx("div",{className:"pt-4",children:e.jsx(m,{onClick:v,disabled:o,className:"w-full bg-primary hover:bg-primary/90 text-white font-black h-14 rounded-xl shadow-xl shadow-primary/20 text-xs tracking-widest uppercase italic transition-all group",children:o?e.jsxs(e.Fragment,{children:[e.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"})," Registrando Grade..."]}):e.jsxs(e.Fragment,{children:[e.jsx($,{className:"w-4 h-4 mr-2 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})," Finalizar Protocolo"]})})})]}),e.jsxs("div",{className:"p-6 bg-primary/5 border border-primary/20 rounded-2xl flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center shrink-0",children:e.jsx(b,{className:"w-5 h-5 text-primary"})}),e.jsx("p",{className:"text-[10px] font-bold text-primary uppercase leading-relaxed tracking-wider",children:"Lembrete: Feedbacks construtivos aceleram o ganho de XP e o engajamento na plataforma Inovatec."})]})]}):e.jsxs(p,{className:"p-20 bg-white border border-border text-center space-y-6 rounded-3xl shadow-sm",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground uppercase",children:"Entrega nÃ£o encontrada"}),e.jsx(m,{onClick:()=>d("submissions-list"),variant:"outline",className:"rounded-xl px-10",children:"Voltar"})]})})]})}const L=(d,a,r=void 0)=>{const i={"teacher-dashboard":"/teacher","class-management":r?`/teacher/classes/${r}`:"/teacher/classes","mission-management":"/teacher/missions","activity-creator":r?`/teacher/activity-creator/${r}`:"/teacher/activity-creator","activity-edit":r?`/teacher/activity-creator/edit/${r}`:"/teacher/activity-creator",grading:r?`/teacher/grading/${r}`:"/teacher/grading","submissions-list":"/teacher/submissions",reports:"/teacher/reports",calendar:"/teacher/calendar",logout:"/login"}[a];i&&d(i)};function Y(){const{submissionId:d}=_(),{submissions:a,enrolledStudents:r,activities:s,gradeSubmission:i}=A(),l=E(),t=a.find(o=>String(o.id)===String(d)),n=r.find(o=>String(o.id)===String((t==null?void 0:t.studentId)||(t==null?void 0:t.student_id))),c=s.find(o=>String(o.id)===String((t==null?void 0:t.activityId)||(t==null?void 0:t.activity_id)));return e.jsx(I,{onNavigate:o=>L(l,o),submission:t,student:n,activity:c,onGrade:i})}export{Y as default};
