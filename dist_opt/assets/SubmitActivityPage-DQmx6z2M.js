import{j as e}from"./vendor-radix-D9w6Aqn5.js";import{B as u,b as l,u as y,c as z}from"./index-C4prtVKG.js";import{C as c}from"./card-CqIWy9z1.js";import{T as B}from"./textarea-D33CfUE_.js";import{I as E}from"./input-rVbishha.js";import{r as m,l as D,u as I}from"./vendor-react-BLglcPuh.js";import{x as F,J as N,A as M,m as T,R as L,l as O,N as R,O as w,k as Q,Q as Z,Z as $}from"./vendor-utils-DjjONr6O.js";function J({onNavigate:s,onSubmit:n,activityId:i,activities:x}){const[t,k]=m.useState(null),[o,h]=m.useState({}),[g,S]=m.useState(""),[C,P]=m.useState(!1),[b,f]=m.useState(!1),a=x.find(r=>String(r.id)===String(i)),v=(a==null?void 0:a.questions)&&a.questions.length>0,A=async()=>{if(!i){y.error("Erro operacional: Atividade ID ausente."),s("activities");return}f(!0);const r=v?JSON.stringify(o):g,p=await n({activityId:i,comments:r,file:t});f(!1),p&&(P(!0),y.success("Protocolo Enviado"),setTimeout(()=>s("portfolio"),3e3))};return e.jsxs("div",{className:"space-y-12 pb-20 relative px-4",children:[e.jsx("div",{className:"absolute top-40 right-1/4 w-[400px] h-[400px] bg-primary/5 rounded-full blur-[100px] -z-10"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8 border-b border-border pb-10",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx(u,{variant:"ghost",onClick:()=>s("activities"),className:"rounded-2xl w-14 h-14 p-0 border border-border hover:bg-muted bg-white shadow-sm",children:e.jsx(F,{className:"w-6 h-6"})}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5 ml-1",children:[e.jsx(N,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-[10px] font-black text-primary uppercase tracking-[0.3em] italic",children:"TransmissÃ£o de Dados Operacionais"})]}),e.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-foreground tracking-tighter italic uppercase leading-none",children:["Enviar ",e.jsx("span",{className:"text-primary italic",children:"Protocolo"})]})]})]}),e.jsx(l,{variant:"secondary",className:"bg-primary/5 text-primary border-primary/20 px-6 py-2.5 h-auto rounded-xl font-black text-[10px] uppercase tracking-widest italic animate-pulse",children:"Status: Monitoramento de Entrada"})]}),e.jsx(M,{mode:"wait",children:C?e.jsxs(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center py-24 bg-white border border-emerald-100 rounded-[3rem] text-center space-y-8 shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute -bottom-20 -right-20 w-64 h-64 bg-emerald-50 rounded-full blur-[80px]"}),e.jsx("div",{className:"w-24 h-24 bg-emerald-50 rounded-[1.5rem] flex items-center justify-center shadow-xl shadow-emerald-500/10 group",children:e.jsx(L,{className:"w-12 h-12 text-emerald-600 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform duration-500"})}),e.jsxs("div",{className:"space-y-3 relative z-10",children:[e.jsx("h2",{className:"text-4xl font-black text-foreground uppercase tracking-tight italic",children:"MissÃ£o Sincronizada!"}),e.jsx("p",{className:"text-muted-foreground font-medium italic",children:"Seus dados foram integrados com sucesso ao servidor central."})]}),e.jsx(l,{className:"bg-emerald-50 text-emerald-600 border border-emerald-100 px-8 py-3 font-black uppercase text-[10px] tracking-widest animate-bounce rounded-xl italic",children:"Redirecionando para Portfolio Decentralizado..."})]}):a?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-10",children:[e.jsxs(c,{className:"p-10 bg-white border border-border rounded-[2.5rem] shadow-xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-125 transition-transform duration-700",children:e.jsx(N,{className:"w-40 h-40 text-primary"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-10 relative z-10 text-center sm:text-left",children:[e.jsx("div",{className:"w-28 h-28 rounded-[2rem] bg-primary flex items-center justify-center text-6xl shadow-2xl shadow-primary/20 text-white group-hover:rotate-3 transition-transform duration-500",children:a.icon||"ðŸŽ¯"}),e.jsxs("div",{className:"space-y-4 flex-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-black text-foreground tracking-tight uppercase italic leading-none group-hover:text-primary transition-colors",children:a.title}),e.jsxs("p",{className:"text-sm text-muted-foreground font-medium italic leading-relaxed opacity-80",children:['"',a.description,'"']})]}),e.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-4 pt-2",children:[e.jsxs(l,{variant:"secondary",className:"bg-muted text-muted-foreground border-none font-black text-[10px] px-5 py-2 rounded-xl italic tracking-widest",children:["Protocolo: ",a.deadline]}),e.jsxs(l,{variant:"secondary",className:"bg-primary/5 text-primary border-none font-black text-[10px] px-5 py-2 rounded-xl italic tracking-widest",children:[a.points," XP DisponÃ­veis"]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-[11px] font-black text-muted-foreground uppercase tracking-[0.3em] flex items-center gap-3 ml-2 italic",children:[e.jsx(R,{className:"w-5 h-5 text-primary"})," Entradas de Log Educacional"]}),v?e.jsx("div",{className:"space-y-6",children:(a.questions||[]).map((r,p)=>e.jsx(c,{className:"p-8 bg-white border border-border rounded-[2rem] hover:border-primary/30 transition-all shadow-sm group",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(l,{className:"bg-muted text-muted-foreground border-none font-black text-[9px] uppercase px-4 py-1.5 rounded-lg tracking-widest italic",children:["MÃ³dulo de QuestÃ£o ",p+1]})}),e.jsx("p",{className:"text-xl font-black text-foreground tracking-tight leading-tight italic",children:r.prompt}),e.jsx("div",{className:"pt-4",children:r.options&&r.options.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.options.map((d,j)=>e.jsxs("button",{onClick:()=>h({...o,[r.id]:d}),className:`w-full p-6 rounded-2xl border text-left transition-all duration-300 flex items-center gap-6 group/opt ${o[r.id]===d?"bg-primary border-primary text-white shadow-2xl shadow-primary/20 scale-[1.02]":"bg-muted/10 border-border text-foreground hover:bg-muted/30 hover:border-muted-foreground/30 hover:scale-[1.01]"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-xl border flex items-center justify-center font-black text-sm italic transition-all ${o[r.id]===d?"bg-white/20 border-white/40 text-white":"border-border text-muted-foreground bg-white shadow-inner group-hover/opt:border-primary/40"}`,children:String.fromCharCode(65+j)}),e.jsx("span",{className:"font-black text-sm flex-1 tracking-tight",children:d})]},j))}):e.jsx(E,{placeholder:"Insira o output esperado aqui...",value:o[r.id]||"",onChange:d=>h({...o,[r.id]:d.target.value}),className:"bg-muted/50 border-border h-14 text-foreground font-bold italic rounded-2xl focus:border-primary transition-all shadow-inner text-base px-6 placeholder:italic placeholder:font-medium"})})]})},r.id))}):e.jsxs(c,{className:"p-8 bg-white border border-border rounded-[2rem] shadow-sm relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-full bg-primary opacity-20 group-hover:opacity-100 transition-opacity"}),e.jsx(B,{placeholder:"Descreva detalhadamente o fluxo de execuÃ§Ã£o e resultados da sua missÃ£o...",value:g,onChange:r=>S(r.target.value),className:"min-h-[250px] bg-muted/20 border-border text-foreground p-8 focus:ring-primary/20 rounded-2xl font-medium italic text-sm leading-relaxed border-none shadow-inner"})]})]})]}),e.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[e.jsxs(c,{className:"p-10 bg-white border border-border rounded-[2.5rem] shadow-xl space-y-8 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-full h-1 bg-primary/20"}),e.jsxs("h3",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.3em] flex items-center gap-3 italic",children:[e.jsx(w,{className:"w-5 h-5 text-primary"})," Anexo de BinÃ¡rios"]}),e.jsx("label",{className:"block group/upload cursor-pointer",children:e.jsxs("div",{className:"border-2 border-dashed border-border rounded-3xl p-10 text-center hover:border-primary/50 hover:bg-primary/5 transition-all duration-500 shadow-inner group/box relative overflow-hidden",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-muted border border-border flex items-center justify-center mx-auto mb-6 group-hover/upload:scale-110 group-hover/upload:rotate-6 transition-all duration-500 shadow-xl group-hover/upload:border-primary/40",children:e.jsx(w,{className:"w-8 h-8 text-primary group-hover/upload:animate-bounce"})}),t?e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-foreground font-black text-sm truncate max-w-[200px] mx-auto uppercase italic",children:t.name}),e.jsxs(l,{variant:"secondary",className:"bg-emerald-50 text-emerald-600 border-none font-black text-[9px] uppercase tracking-widest italic py-1.5 px-3",children:["Sincronia: ",(t.size/1024).toFixed(1)," KB"]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-foreground font-black text-xs uppercase tracking-[0.2em] italic",children:"Carregar Output"}),e.jsx("p",{className:"text-[9px] text-muted-foreground font-bold uppercase tracking-widest opacity-60",children:"Formatos: PDF, SB3, PNG, ZIP (10MB)"})]}),e.jsx("input",{type:"file",className:"hidden",onChange:r=>r.target.files&&k(r.target.files[0])})]})}),e.jsxs(u,{onClick:A,disabled:b,className:"w-full h-16 bg-primary hover:bg-primary/90 text-white font-black rounded-2xl shadow-2xl shadow-primary/30 disabled:opacity-50 transition-all uppercase tracking-[0.2em] text-[11px] italic group relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),b?e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"w-5 h-5 mr-3 animate-spin"})," Processando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-5 h-5 mr-3 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})," Sincronizar Protocolo"]})]})]}),e.jsxs("div",{className:"p-6 bg-amber-50 border border-amber-100 rounded-3xl flex items-start gap-4",children:[e.jsx($,{className:"w-6 h-6 text-amber-500 mt-1 shrink-0"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase tracking-widest italic",children:"Aviso de Integridade"}),e.jsx("p",{className:"text-[10px] font-bold text-amber-700/80 leading-relaxed italic",children:"Verifique se todas as saÃ­das de dados estÃ£o em conformidade com os requisitos da missÃ£o antes do envio final."})]})]})]})]}):e.jsxs(c,{className:"p-24 bg-white border border-border text-center space-y-8 rounded-[3rem] shadow-xl",children:[e.jsx(O,{className:"w-20 h-20 text-muted-foreground/20 mx-auto"}),e.jsx("h2",{className:"text-2xl font-black text-foreground uppercase italic tracking-tight",children:"Atividade NÃ£o Identificada no Cluster"}),e.jsx(u,{onClick:()=>s("activities"),className:"bg-primary hover:bg-primary/90 text-white font-black px-12 h-14 rounded-2xl uppercase text-[10px] tracking-[0.2em] italic shadow-2xl shadow-primary/20 transition-all",children:"Sincronizar HUB Central"})]})})]})}const U=(s,n,i=void 0)=>{const t={"student-dashboard":"/student",activities:"/student/activities",portfolio:"/student/portfolio",progress:"/student/progress","learning-paths":"/student/learning-paths","submit-activity":i?`/student/activities/${i}/submit`:"/student/activities",logout:"/login"}[n];t&&s(t)};function _(){const{activityId:s}=D(),{activities:n,addSubmission:i}=z(),x=I();return e.jsx(J,{onNavigate:t=>U(x,t),onSubmit:i,activityId:s||"",activities:n})}export{_ as default};
